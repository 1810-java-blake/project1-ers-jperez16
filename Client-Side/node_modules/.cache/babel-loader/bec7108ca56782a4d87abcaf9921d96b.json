{"ast":null,"code":"import _objectSpread from \"/home/seal/Documents/Revature/Code/project-1-node/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/seal/Documents/Revature/Code/project-1-node/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/seal/Documents/Revature/Code/project-1-node/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/seal/Documents/Revature/Code/project-1-node/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/seal/Documents/Revature/Code/project-1-node/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/seal/Documents/Revature/Code/project-1-node/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/seal/Documents/Revature/Code/project-1-node/src/Components/login.component.js\";\nimport React from \"react\"; // import \"../main.css\";\n\nexport var LogInComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LogInComponent, _React$Component);\n\n  function LogInComponent(props) {\n    var _this;\n\n    _classCallCheck(this, LogInComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LogInComponent).call(this, props));\n\n    _this.usernameChange = function (e) {\n      _this.setState(_objectSpread({}, _this.state, {\n        username: e.target.value\n      }));\n    };\n\n    _this.passwordChange = function (e) {\n      _this.setState(_objectSpread({}, _this.state, {\n        password: e.target.value\n      }));\n    };\n\n    _this.submit = function (e) {\n      e.preventDefault();\n      var data = JSON.stringify({\n        \"data\": btoa(JSON.stringify(_this.state))\n      });\n      fetch(\"http://localhost:8080/project1/login\", {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        method: \"post\",\n        body: data\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        document.cookie = \"auth=\".concat(response[\"auth\"], \";\");\n\n        if (response[\"results\"]) {\n          var _data = response[\"results\"][0];\n          sessionStorage.setItem(\"project1_data\", JSON.stringify(_data));\n\n          if (_data.roleID == 1) {\n            document.location.href = \"/admin\";\n          }\n\n          if (_data.roleID == 2) {}\n\n          console.log(_data);\n          console.log(response);\n        } else {\n          //get help on this part, this is not right.\n          document.getElementById(\"login_error\").innerText = response[\"error\"];\n        }\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    _this.hash = require(\"hash.js\"); // console.log(this.hash.sha256(\"hello\").digest(\"hex\"));\n\n    return _this;\n  }\n\n  _createClass(LogInComponent, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"login_class\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://3g4d13k75x47q7v53surz1gi-wpengine.netdna-ssl.com/wp-content/themes/revature/imgs/logo.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"login_div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        id: \"sign_h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Sign in\"), React.createElement(\"form\", {\n        id: \"login_form\",\n        onSubmit: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"username_label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Email:\"), \" \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        required: true,\n        autoComplete: \"off\",\n        value: this.state.username,\n        onChange: this.usernameChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        id: \"password_label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Password:\"), \" \", React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        required: true,\n        autoComplete: \"off\",\n        value: this.password,\n        onChange: this.passwordChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"submit_login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Log In\"), React.createElement(\"button\", {\n        id: \"submit_forget\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Forgot Password\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        id: \"login_error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return LogInComponent;\n}(React.Component);","map":{"version":3,"sources":["/home/seal/Documents/Revature/Code/project-1-node/src/Components/login.component.js"],"names":["React","LogInComponent","props","usernameChange","e","setState","state","username","target","value","passwordChange","password","submit","preventDefault","data","JSON","stringify","btoa","fetch","headers","method","body","then","response","json","document","cookie","sessionStorage","setItem","roleID","location","href","console","log","getElementById","innerText","hash","require","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import \"../main.css\";\nexport class LogInComponent extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username: \"\",\n            password: \"\"\n        }\n        this.hash = require(\"hash.js\");\n        // console.log(this.hash.sha256(\"hello\").digest(\"hex\"));\n    }\n\n    usernameChange = (e) =>{\n        this.setState({\n            ...this.state,\n            username:e.target.value\n        })\n    }\n\n    passwordChange = (e) =>{\n        this.setState({\n            ...this.state,\n            password: e.target.value\n        })\n    }\n\n\n    submit = (e) =>{\n        e.preventDefault();\n        let data = JSON.stringify({\"data\":btoa(JSON.stringify(this.state))})\n        fetch(\"http://localhost:8080/project1/login\",{\n            headers:{\n                \"Content-Type\":\"application/x-www-form-urlencoded\"\n            },\n            method:\"post\",\n            body:data\n        })\n        .then(response => {\n            return response.json()\n        }).then(response =>{\n            document.cookie = `auth=${response[\"auth\"]};`;\n            \n            if(response[\"results\"]){\n                let data = response[\"results\"][0];\n                sessionStorage.setItem(\"project1_data\", JSON.stringify(data));\n                if(data.roleID == 1){\n    \n                    document.location.href=\"/admin\";\n                }\n                if(data.roleID == 2){\n\n                }\n                console.log(data);\n                console.log(response);\n            }\n            else{\n                //get help on this part, this is not right.\n                document.getElementById(\"login_error\").innerText = response[\"error\"];\n            }\n        })\n    }\n\n\n    render(){\n        return(\n            <>\n            <div className=\"login_class\">\n                <header>\n                    <img src=\"https://3g4d13k75x47q7v53surz1gi-wpengine.netdna-ssl.com/wp-content/themes/revature/imgs/logo.png\"></img>\n                </header>\n                <div className=\"login_div\">\n                    <h2 id=\"sign_h2\">Sign in</h2>\n                    <form id=\"login_form\" onSubmit={this.submit}>\n                        <label id=\"username_label\">Email:</label> <input type=\"text\" name=\"username\" required autoComplete=\"off\" value={this.state.username} onChange={this.usernameChange}/>\n                        <br/>\n                        <label id=\"password_label\">Password:</label> <input type=\"password\" name=\"password\" required  autoComplete=\"off\" value={this.password} onChange={this.passwordChange}/>\n                        <br/>\n                        <button id=\"submit_login\">Log In</button>\n                        <button id=\"submit_forget\">Forgot Password</button>\n                        <br/>\n                        <label id=\"login_error\"/>\n                    </form>\n                </div>\n            </div>\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}